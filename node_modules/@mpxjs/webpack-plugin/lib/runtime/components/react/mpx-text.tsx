import { Text, StyleProp, ViewStyle } from 'react-native'
import * as React from 'react'
import { useImperativeHandle } from 'react'

// const _Text = ({  }) => {
//   return <Text>123 1 1 text 123</Text>
// }

 interface TextProps {
  style?: any;
  children?: React.ReactNode;
  selectable?: boolean;
  userSelect?: boolean;
  onClick?: () => void;
}

// React.forwardRef 
const _Text: React.FC<TextProps> = React.forwardRef((props: TextProps, ref: React.ForwardedRef<any>) => {
  const {
    // id/
    style,
    children,
    selectable,
    userSelect,
    onClick,
    ...otherProps } = props
    console.log(">>> 123 selectable", selectable)
    console.log(">>> 123 style", style)
    console.log(">>> 123 children", children)
    console.log(">>> 123 onClick", onClick)
    console.log(">>> 123 otherProps", otherProps)
    
    useImperativeHandle(ref, () => {
      return {
        // todo
      }
    }, [])
    // 1. useImperativehandle //
    // 2. data-set
    return (
      <Text
        style={style}
        ref={ref}
        selectable={!!selectable || !!userSelect}
        onPress={onClick}
        {...otherProps}
      >
        {children}
      </Text>
    )
})

_Text.displayName = '_Text'

export default _Text

